<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
    <script src="../common/log.js" charset="utf-8"></script>
    <script src="../common/myNote.js" charset="utf-8"></script>
  </head>
  <body>
    <form>
      <!-- 값을 입력하지 않으면 required로 인해 에러가 발생 되고 이 에러를 이벤트 리스너로 처리-->
      <label>주문 수량 : <input type="text" name=order size=10 required></label>
      <input type="submit" value="전송">
      <button type="button">ValidityState 값 출략</button>
    </form>

    <script type="text/javascript">
      var node = selector("[name=order]");
      node.addEventListener("invalid", function(event) {
        event.preventDefault();
        js.log("invalid 이벤트 발생")
        if(node.validity.valueMissing) {  // 값을 입력하지 않고 전송 버튼을 클릭하는 경우 처리
          js.log("valueMissing : 값을 입력하세요.")
        }
      }, false);

      selector("[type=button]").onclick = function(event) {
        for(var name in node.validity) {
          js.log(name, ": ", node.validity[name]);
        }
      }
    </script>
  </body>
</html>
